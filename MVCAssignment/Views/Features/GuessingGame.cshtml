@*/Views/Features/GuessingGame.cshtml*@

@model MVCAssignment.Models.GuessingGame

@{
    ViewBag.Title = "GuessingGame";
    Layout = "~/Views/Shared/_LayoutPage.cshtml";
}

<h2>Welcome to the Guessing Game!</h2>

@using (Html.BeginForm(controllerName: "Features", actionName: "GuessingGame", method: FormMethod.Post))
{



    <div>
        @* Displays NumLabel *@
        @Html.DisplayFor(Model => Model.NumLabel)
    </div>



    <div>
        @{
            //Update to fit Session
            Model.NumChoice = Convert.ToInt16(Session["Choice"]);
        }

        @* Textbox bound to NumChoice *@
        Choice: @Html.EditorFor(Model => Model.NumChoice)
    </div>



    <div>
        @{
            //Changes result to previously stored Session result
            Model.Result = Session["Evaluation"].ToString();
        }

        Result: @Html.DisplayFor(Model => Model.Result)
    </div>

    <br />

    <div>
        @{
            //Updates record with its session state
            Model.guessRecord = (List<string>)Session["GuessRecord"];
        }

        List: @Model.guessRecord.Count

        @{
            //Setting result to be displayed
            Session["Evaluation"] = Model.ChoiceEvaluation(Model, Convert.ToInt16(Session["Random"]));
        }

        <input type="submit" value="Guess" />
    </div>
    <br />
    <br />
    <div>
        @Html.ActionLink("New Game", "GuessingGame")
    </div>



            }