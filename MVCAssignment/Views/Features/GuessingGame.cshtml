@*/Views/Features/GuessingGame.cshtml*@

@model MVCAssignment.Models.GuessingGame

@{
    ViewBag.Title = "GuessingGame";
    Layout = "~/Views/Shared/_LayoutPage.cshtml";
}

<h2>Welcome to the Guessing Game</h2>

@using (Html.BeginForm(controllerName: "Features", actionName: "GuessingGame", method: FormMethod.Post))
{



    <div>
        @* Displays NumLabel *@
        @Html.DisplayFor(Model => Model.NumLabel)
    </div>



    <div>
        @{
            //Update to fit Session
            Model.NumChoice = Convert.ToInt16(Session["Choice"]);
        }

        @* Textbox bound to NumChoice *@
        Choice: @Html.EditorFor(Model => Model.NumChoice)
    </div>

    <br />

    <div>
        @{
            //Changes result to previously stored Session result
            Model.Result = Session["Evaluation"].ToString();
        }

        Result: @Html.DisplayFor(Model => Model.Result)
    </div>



    <div>
        @{
            //Updates record with its session state
            Model.guessRecord = (List<string>)Session["GuessRecord"];

            if (Model.wonGame == true)
            {
                //
                //Cookieblabla = Model.guessRecord.Count
                
                //Clear guess record for new game round
                Model.guessRecord.Clear();
            }

        }

        <br />

        <input type="submit" value="Guess" />

        <br />
        <br />

        Guesses (@Model.guessRecord.Count):

        <br />

        @for (int i = 0; i < Model.guessRecord.Count; i++)
        {
            @Model.guessRecord.ElementAt(i)
            @:<span>| </span>
        }

    </div>



    <br />



    <div>
        @Html.ActionLink("New Game", "GuessingGame")
    </div>



            }